(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-595e88d2"],{"5e32":function(t,a,i){"use strict";i.d(a,"e",(function(){return n})),i.d(a,"d",(function(){return s})),i.d(a,"c",(function(){return o})),i.d(a,"a",(function(){return r})),i.d(a,"f",(function(){return c})),i.d(a,"b",(function(){return l}));var e=i("b775");function n(t){return Object(e["a"])({url:"/artist/list",method:"GET",params:t})}function s(t){return Object(e["a"])({url:"/artist/detail?id="+t,method:"GET"})}function o(t){return Object(e["a"])({url:"/artist/songs",method:"GET",params:t})}function r(t){return Object(e["a"])({url:"/artist/sub",method:"GET",params:t})}function c(t){return Object(e["a"])({url:"/artist/mv",method:"GET",params:{id:t}})}function l(t){return Object(e["a"])({url:"/simi/artist",method:"GET",params:{id:t}})}},"8d55":function(t,a,i){"use strict";i("dfed")},"8fc0":function(t,a,i){"use strict";i.r(a);var e=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{attrs:{id:"singerDetail-container"}},[t.isReady?i("div",{staticClass:"example"},[i("a-spin",{attrs:{tip:"努力加载中...",size:"large"}})],1):i("div",[i("div",{staticClass:"artist_content"},[i("img",{staticClass:"cover_img",attrs:{src:t.singerData.cover,alt:""}}),i("div",{staticClass:"artist_txt"},[i("span",{staticClass:"name"},[t._v(t._s(t.singerData.name))]),i("div",{staticClass:"content"},[!0===t.isFollowed?i("a-button",{on:{click:function(a){return t.followThisSinger(0)}}},[t._v(" 已收藏 ")]):t._e(),!1===t.isFollowed?i("a-button",{on:{click:function(a){return t.followThisSinger(1)}}},[i("a-icon",{attrs:{type:"folder-add"}}),t._v(" 收藏 ")],1):t._e(),i("a-button",{directives:[{name:"show",rawName:"v-show",value:t.userId,expression:"userId"}],on:{click:function(a){return t.toUserDetail(t.userId)}}},[i("a-icon",{attrs:{type:"user"}}),t._v(" 个人主页 ")],1)],1),i("div",{staticClass:"bottom"},[t.singerData.musicSize?i("span",[t._v("单曲数:"+t._s(t.singerData.musicSize))]):t._e(),t.singerData.albumSize?i("span",[t._v("专辑数:"+t._s(t.singerData.albumSize))]):t._e(),t.singerData.mvSize?i("span",[t._v("MV数:"+t._s(t.singerData.mvSize))]):t._e()])])]),i("a-tabs",{attrs:{"default-active-key":"1"},on:{change:t.tabChange}},[i("a-tab-pane",{key:"1",attrs:{tab:"单曲"}},[i("a-table",{attrs:{columns:t.columns,"data-source":t.songList,loading:t.tableLoading,pagination:!1,"row-key":function(t,a){return a}},scopedSlots:t._u([{key:"name",fn:function(a,e){return i("a",{},[t._v(" "+t._s(a)+" "),0!==e.mv?i("a-icon",{staticStyle:{margin:"2px 0 0 5px",color:"red","font-size":"18px"},attrs:{type:"youtube",title:"MV"},on:{click:function(a){return t.playMv(e)}}}):t._e()],1)}},{key:"dt",fn:function(a){return i("a",{},[t._v(" "+t._s(t._f("dateFormatLr")(a))+" ")])}},{key:"action",fn:function(a,e){return i("span",{},[i("a-icon",{staticStyle:{"font-size":"20px","margin-right":"20px"},attrs:{type:"play-circle"},on:{click:function(a){return t.playSong(e)}}})],1)}}])})],1),i("a-tab-pane",{key:"2",attrs:{tab:"MV"}},[i("div",{staticClass:"mv_content"},t._l(t.mvData,(function(a){return i("div",{key:a.id,staticClass:"list"},[i("img",{attrs:{src:a.imgurl,alt:"加载失败"},on:{click:function(i){return t.toPlayMvDetails(a)}}}),i("span",[t._v(t._s(a.name))]),i("span",[t._v(t._s(a.artistName))]),i("span",{staticClass:"count"},[i("a-icon",{attrs:{type:"caret-right"}}),t._v(" "+t._s(a.playCount)+" ")],1)])})),0)]),i("a-tab-pane",{key:"3",attrs:{tab:"歌手详情"}},[t._v(" "+t._s(t.singerData.briefDesc)+" ")]),i("a-tab-pane",{key:"4",attrs:{tab:"相似歌手"}},[i("div",{staticClass:"mv_content"},t._l(t.simiData,(function(a){return i("div",{key:a.id,staticClass:"list",on:{click:function(i){return t.toSingerDetails(a)}}},[i("img",{attrs:{src:a.picUrl,alt:"加载失败"}}),i("span",[i("a-icon",{staticStyle:{color:"#d9363e"},attrs:{type:"user"}}),t._v(" "+t._s(a.name)+" ")],1)])})),0)])],1)],1),i("a-modal",{attrs:{title:"提示"},model:{value:t.stopFollow,callback:function(a){t.stopFollow=a},expression:"stopFollow"}},[i("span",[t._v("确定要取消关注该用户吗？")]),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("a-button",{on:{click:t.stopChange}},[t._v("确定")])],1)])],1)},n=[],s=(i("425f"),i("15a9")),o=i("5e32"),r=i("5f87"),c=i("7736"),l=i("fab2"),u={name:"",data:function(){return{isReady:!1,tableLoading:!1,stopFollow:!1,singerData:{},userId:"",followData:{id:"",t:void 0},isFollowed:!1,columns:[{title:"歌曲",dataIndex:"name",key:"name",width:"300px",scopedSlots:{customRender:"name"}},{title:"时长",dataIndex:"dt",key:"dt",width:"200px",scopedSlots:{customRender:"dt"}},{title:"操作",dataIndex:"action",key:"action",scopedSlots:{customRender:"action"}}],songList:[],mvData:[],simiData:[],listData:{id:"",order:"hot"}}},watch:{$route:"routeChange"},created:function(){this.getSingerDetails()},methods:Object(s["a"])(Object(s["a"])({},Object(c["b"])(["songIdAction","songIndexAction"])),{},{getSingerDetails:function(){var t=this;this.isReady=!0,this.tableLoading=!0;var a=this.$route.query.id;this.listData.id=a,Object(o["d"])(a).then((function(a){t.singerData=a.data.artist,t.userId=a.data.user.userId,t.getUserDetail(a.data.user.userId),t.isReady=!1})).catch((function(){t.isReady=!1})),Object(o["c"])(this.listData).then((function(a){t.songList=a.songs,t.tableLoading=!1})).catch((function(){t.tableLoading=!1}))},getUserDetail:function(t){var a=this;Object(l["c"])(t).then((function(t){a.isFollowed=t.profile.followed}))},tabChange:function(t){"2"===t?this.getSingerMv(this.$route.query.id):"4"===t&&(this.simiData=[],this.getSimiSinger(this.$route.query.id))},getSingerMv:function(t){var a=this;Object(o["f"])(t).then((function(t){a.mvData=t.mvs}))},getSimiSinger:function(t){var a=this;Object(o["b"])(t).then((function(t){a.simiData=t.artists}))},toSingerDetails:function(t){this.$router.push({query:{id:t.id}})},routeChange:function(){this.getSingerDetails()},toPlayMvDetails:function(t){this.$router.push({path:"/PlayMvDetails",query:{id:t.id}})},followThisSinger:function(t){var a=this;0===t?this.stopFollow=!0:(this.followData.t=t,this.followData.id=this.$route.query.id,Object(o["a"])(this.followData).then((function(t){a.isFollowed=!0})))},stopChange:function(){var t=this;this.followData.t=0,this.followData.id=this.$route.query.id,Object(o["a"])(this.followData).then((function(a){t.stopFollow=!1,t.isFollowed=!1}))},toUserDetail:function(t){this.$router.push({name:"UserDetails",query:{userId:t}})},playSong:function(t){this.songIdAction(t.id),this.playToAll()},playToAll:function(){for(var t=this.songList,a=[],i=0;i<t.length;i++)a.push({name:t[i].name,id:t[i].id});Object(r["k"])(JSON.stringify(a))},playMv:function(t){this.$router.push({path:"/PlayMvDetails",query:{id:t.mv}})}})},d=u,f=(i("8d55"),i("5d22")),h=Object(f["a"])(d,e,n,!1,null,null,null);a["default"]=h.exports},dfed:function(t,a,i){}}]);